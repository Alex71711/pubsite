{% extends 'base.html' %}
{% block title %}Смена пароля — Админ{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-6">Смена пароля администратора</h1>
<p class="text-sm text-[color:var(--muted)] mb-6">Учётные данные хранятся в <code>data/admin.json</code>. Для смены пароля подтвердите текущий и введите новый.</p>

<form method="post" class="max-w-md space-y-4">
  <label class="block">
    <span class="text-sm">Имя пользователя</span>
    <input name="username" value="{{ username }}" class="mt-1 w-full border rounded-lg p-3 bg-white/5 border-[color:var(--line)]" />
    <p class="text-xs text-[color:var(--muted)] mt-1">Можно изменить, при желании.</p>
  </label>
  <label class="block">
    <span class="text-sm">Текущий пароль</span>
    <input type="password" name="current" required class="mt-1 w-full border rounded-lg p-3 bg-white/5 border-[color:var(--line)]" />
  </label>
  <label class="block">
    <span class="text-sm">Новый пароль</span>
    <input type="password" name="new" minlength="6" required class="mt-1 w-full border rounded-lg p-3 bg-white/5 border-[color:var(--line)]" />
  </label>
  <label class="block">
    <span class="text-sm">Повторите новый пароль</span>
    <input type="password" name="confirm" minlength="6" required class="mt-1 w-full border rounded-lg p-3 bg-white/5 border-[color:var(--line)]" />
  </label>
  <div class="flex items-center gap-3">
    <button class="px-5 py-3 rounded-xl bg-black text-white">Сохранить</button>
    <a class="underline text-sm" href="{{ url_for('admin_hero') }}">← К изображениям</a>
    <a class="underline text-sm" href="{{ url_for('admin_logout') }}">Выйти</a>
  </div>
  <p class="text-xs text-[color:var(--muted)]">Минимум 6 символов. После сохранения файл <code>data/admin.json</code> будет перезаписан.</p>
</form>
{% endblock %}
